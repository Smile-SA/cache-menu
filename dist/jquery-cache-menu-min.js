/*! jquery-cache-menu - v1.0.1 */
var docCookies={getItem:function(a){return a?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},setItem:function(a,b,c,d,e,f){if(!a||/^(?:expires|max\-age|path|domain|secure)$/i.test(a))return!1;var g="";if(c)switch(c.constructor){case Number:g=1/0===c?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+c;break;case String:g="; expires="+c;break;case Date:g="; expires="+c.toUTCString()}return document.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+g+(e?"; domain="+e:"")+(d?"; path="+d:"")+(f?"; secure":""),!0},removeItem:function(a,b,c){return this.hasItem(a)?(document.cookie=encodeURIComponent(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(c?"; domain="+c:"")+(b?"; path="+b:""),!0):!1},hasItem:function(a){return a?new RegExp("(?:^|;\\s*)"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie):!1},keys:function(){for(var a=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),b=a.length,c=0;b>c;c++)a[c]=decodeURIComponent(a[c]);return a}};!function(a,b){"use strict";function c(b,c){this.element=b,this.options=a.extend({},f,c),this._defaults=f,this._name=e,this.init()}var d=b.docCookies,e="cacheMenu",f={cookieInfo:{name:"skipMenuTransfer",durationInSec:31536e3,path:"/"},storage:{cacheName:"menuToCache",hashName:"menuHash"},reloadOnError:!0,initAtStartup:!0,namespace:""};c.prototype.getStorageMenuItemName=function(){var a=this.options;return a.namespace+a.storage.cacheName},c.prototype.getStorageMenuHashName=function(){var a=this.options;return a.namespace+a.storage.hashName},c.prototype.getCookieName=function(){var a=this.options;return a.namespace+a.cookieInfo.name},c.prototype.manageWithoutCookie=function(){var c=a(this.element);c.off("menu-initialization-todo");var e=this.options,f=e.cookieInfo,g=this.getStorageMenuHashName(),h=c.data().menuHash;h&&b.localStorage.setItem(g,h);var i=this.getStorageMenuItemName(),j=c.html();b.localStorage.setItem(i,j),d.setItem(this.getCookieName(),1,f.durationInSec,f.path),c.trigger("menu-initialization-done")},c.prototype.manageWithCookie=function(){this.options.initAtStartup&&a(this.element).trigger("menu-initialization-todo")},c.prototype.errorWithCookie=function(){var a=this.options,c=a.cookieInfo,e=a.reloadOnError;d.removeItem(this.getCookieName(),c.path),e&&b.location.reload()},c.prototype.manageCacheValidity=function(){var c=a(this.element),d=c.data().menuHash;if(d){var e=b.localStorage.getItem(this.getStorageMenuHashName());d!==e&&this.errorWithCookie()}},c.prototype.init=function(){var c=b.Modernizr;if(!c.cookies)return e.trigger("menu-initialization-done"),!1;if(!c.localstorage)return e.trigger("menu-initialization-done"),!1;var e=a(this.element),f=this;e.on("menu-initialization-todo",function(){var a=b.localStorage.getItem(f.getStorageMenuItemName());e.html(a),e.trigger("menu-initialization-done")});var g,h=(this.options,d.getItem(this.getCookieName()));h?(this.manageCacheValidity(),g=b.localStorage.getItem(this.getStorageMenuItemName()),g?this.manageWithCookie():this.errorWithCookie()):this.manageWithoutCookie()},a.fn[e]=function(b){return this.each(function(){a.data(this,"plugin_"+e)||a.data(this,"plugin_"+e,new c(this,b))})}}(jQuery,window,document);